<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alien Message Vault ğŸ‘½ğŸ›¸ by DreamXHava</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: url('https://wallpaperaccess.com/full/843532.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #e0e0e0;
    text-align: center;
    padding: 30px 15px;
    margin: 0;
    position: relative;
    min-height: 100vh;
    overflow-x: hidden;
}
.overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(10, 5, 50, 0.78), rgba(5, 15, 70, 0.72));
    z-index: -2;
    pointer-events: none;
}
.alien-float {
    position: absolute;
    opacity: 0.14;
    pointer-events: none;
    z-index: -1;
    will-change: transform;
    font-size: clamp(1.8rem, 5vw, 3.2rem);
    animation: drift infinite ease-in-out;
}
.float-slow   { animation-duration: 140s; animation-delay: -20s; }
.float-medium { animation-duration: 95s;  animation-delay: -40s; }
.float-fast   { animation-duration: 70s;  animation-delay: -10s; }
.float-reverse{ animation-direction: reverse; }
#float1 { top: 10%;  left: 8%;  }
#float2 { top: 22%;  right: 12%; }
#float3 { bottom: 15%; left: 18%; }
#float4 { bottom: 28%; right: 20%; }
#float5 { top: 45%;  left: 25%;  }
#float6 { top: 60%;  right: 15%; }
@keyframes drift {
    0%   { transform: translate(0, 0)   rotate(0deg);   }
    20%  { transform: translate(60px, -50px)  rotate(8deg);  }
    40%  { transform: translate(-70px, 80px)  rotate(-6deg); }
    60%  { transform: translate(40px, -90px)  rotate(5deg);  }
    80%  { transform: translate(-50px, 60px)  rotate(-9deg); }
    100% { transform: translate(0, 0)   rotate(0deg);   }
}
.container {
    max-width: 720px;
    margin: 30px auto;
    background: rgba(15, 15, 55, 0.78);
    backdrop-filter: blur(6px);
    padding: 45px 35px;
    border-radius: 24px;
    border: 2px solid rgba(160, 140, 255, 0.4);
    box-shadow: 0 0 50px rgba(140, 100, 255, 0.25), inset 0 0 30px rgba(0,0,0,0.4);
    position: relative;
    z-index: 1;
}
.shiny-title {
    font-size: 2.7em;
    font-weight: bold;
    color: #ffffff;
    margin-bottom: 45px;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.35);
}
label {
    display: block;
    margin: 22px 0 12px;
    color: #b0d0ff;
    font-weight: bold;
    font-size: 1.1em;
}
textarea {
    width: 100%;
    padding: 18px;
    margin-bottom: 26px;
    background: rgba(10, 10, 45, 0.82);
    border: 2px solid rgba(160, 140, 255, 0.45);
    border-radius: 18px;
    color: #e0e0e0;
    font-size: 1.05em;
    transition: all 0.3s;
    resize: vertical;
}
textarea:focus {
    border-color: #c0b0ff;
    box-shadow: 0 0 18px rgba(192, 176, 255, 0.35);
}
button {
    background: rgba(25, 25, 85, 0.85);
    color: #b0d0ff;
    border: 2px solid #a080ff;
    padding: 15px 40px;
    margin: 8px;
    border-radius: 50px;
    font-size: 1.15em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.35s;
    box-shadow: 0 0 12px rgba(160, 128, 255, 0.35);
}
button:hover {
    background: linear-gradient(135deg, #a080ff, #80b0ff);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 0 28px rgba(160, 128, 255, 0.55);
}
.clear-btn { margin-bottom: 12px; }
.result-wrapper { margin: 55px 0 25px; position: relative; }
#result-container {
    padding: 26px;
    background: rgba(5, 5, 35, 0.88);
    border: 2px solid rgba(160, 140, 255, 0.4);
    border-radius: 18px;
    min-height: 150px;
    max-height: 700px;
    font-size: 1.18em;
    word-wrap: break-word;
    text-align: left;
    overflow: auto;
    resize: vertical;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
}
#result-container::-webkit-scrollbar { width: 9px; }
#result-container::-webkit-scrollbar-track { background: rgba(10,10,45,0.7); }
#result-container::-webkit-scrollbar-thumb {
    background: linear-gradient(#c0b0ff, #a080ff);
    border-radius: 5px;
}
#copy-btn {
    position: absolute;
    top: -40px;
    right: 10px;
    background: rgba(20, 20, 80, 0.9);
    border: 1px solid #a080ff;
    color: #d0d0ff;
    font-size: 0.95em;
    padding: 9px 16px;
    border-radius: 14px;
    cursor: pointer;
    display: none;
    transition: all 0.3s;
}
#copy-btn.visible { display: inline-block; }
#copy-btn:hover {
    background: #a080ff;
    color: #000;
    box-shadow: 0 0 20px #a080ff;
    transform: scale(1.08);
}
.output-label {
    margin-top: 15px;
    display: block;
    font-weight: bold;
    color: #b0d0ff;
    font-size: 1.1em;
}
.github-link {
    margin-top: 60px;
    font-size: 1.15em;
    font-weight: bold;
    color: #d0d0ff;
}
.github-link a {
    color: #b0d0ff;
    text-decoration: none;
}
</style>
</head>
<body>

<div class="overlay"></div>

<div class="alien-float float-slow"    id="float1">ğŸ‘½ğŸ›¸</div>
<div class="alien-float float-medium float-reverse" id="float2">ğŸ›¸ğŸ‘¾ğŸŒŒ</div>
<div class="alien-float float-fast"    id="float3">ğŸ‘½ğŸª</div>
<div class="alien-float float-slow"    id="float4">ğŸ§‘â€ğŸš€ğŸ‘½ğŸ›¸</div>
<div class="alien-float float-medium"  id="float5">ğŸŒ ğŸ‘¾</div>
<div class="alien-float float-fast float-reverse" id="float6">ğŸ›¸âœ¨ğŸ‘½</div>

<div class="container">
<h1 class="shiny-title">
Alien Message Vault ğŸ‘½ğŸ›¸ by DreamXHava
</h1>

<label>Transmit your secret alien message ğŸ‘½</label>
<textarea id="message" placeholder="Enter your message or code here... ğŸŒŒ" rows="6"></textarea>

<button onclick="processMessage('encrypt')">Encrypt & Save ğŸ”’</button>
<button onclick="processMessage('decrypt')">Decrypt & Retrieve ğŸ”“</button>
<button class="clear-btn" onclick="clearAll()">Clear ğŸ§¹ğŸ›¸</button>

<div class="result-wrapper">
    <button id="copy-btn" onclick="copyResult()">Copy ğŸ“¡</button>
    <div id="result-container">
        <div id="result"></div>
    </div>
</div>

<label class="output-label">Incoming Alien Transmission / Vault Result ğŸ“¡</label>

<div class="github-link">
Visit My Github Page â†’ <a href="https://github.com/Savindudam" target="_blank">DreamXHava</a> ğŸ§‘â€ğŸš€âœ¨
</div>
</div>

<script>
const SERVER_URL = "https://backend-lime-nine-92.vercel.app"; // your backend URL

let currentResultText = "";

async function processMessage(mode) {
    const input = document.getElementById("message").value.trim();
    if (!input) return alert("Type something first senpai~ ğŸ˜…");

    const result = document.getElementById("result");
    result.textContent = "Sending to the stars... ğŸ‘½ğŸ›¸";

    try {
        let endpoint = mode === 'encrypt' ? '/api/encrypt' : '/api/decrypt';
        let body = mode === 'encrypt' ? { message: input } : { code: input };

        const res = await fetch(`${SERVER_URL}${endpoint}`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(body)
        });

        const data = await res.json();

        if (data.success) {
            if (mode === 'encrypt') {
                result.textContent = `Encrypted & saved!\n\nYour secret code:\n${data.code}\n\nCopy it and keep it safe~ â™¡`;
            } else {
                result.textContent = `Decrypted successfully!\n\nYour original message:\n${data.message}`;
            }
        } else {
            result.textContent = `Error from server: ${data.error || "Unknown issue :c"}`;
        }

        document.getElementById("copy-btn").classList.add("visible");
        currentResultText = result.textContent;
    } catch (e) {
        result.textContent = "Failed to connect to the vault... is the backend alive? ğŸ›¸";
    }
}

function copyResult() {
    navigator.clipboard.writeText(currentResultText).then(() => {
        const btn = document.getElementById("copy-btn");
        btn.textContent = "Copied! ğŸ“¡";
        setTimeout(() => { btn.textContent = "Copy ğŸ“¡"; }, 1500);
    });
}

function clearAll() {
    document.getElementById("message").value = "";
    document.getElementById("result").textContent = "";
    document.getElementById("copy-btn").classList.remove("visible");
}
</script>
</body>
</html>